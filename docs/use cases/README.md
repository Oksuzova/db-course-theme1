# Модель прецедентів

## Загальна схема

<div style="
    border-radius:15px;
    border: 5px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(100,150,150,50), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 2em; text-align: center;"
>

@startuml

actor "Користувач" as User
actor "Експерт" as Expert
actor "Адміністратор" as Admin

Expert --u-|> User
Admin --u-|> Expert

usecase "<b>Login</b>\nВхід у систему" as Login
usecase "<b>Registration</b>\nРеєстрація у системі" as Registration

usecase "<b>TakeSurvey</b>\nПроходити опитування" as TakeSurvey
usecase "<b>EditAnswers</b>\nРедагувати відповіді" as EditAnswers

usecase "<b>CreateSurvey</b>\nСтворювати опитування" as CreateSurvey
usecase "<b>EditSurvey</b>\nРедагувати опитування" as EditSurvey
usecase "<b>AssignSurvey</b>\Призначати опитування" as AssignSurvey
usecase "<b>ViewStatistics</b>\nПереглядати статистику" as ViewStatistics

User -d-> Login
User -l-> Registration

Expert -u-> TakeSurvey
Expert -l-> EditAnswers

Admin -d-> CreateSurvey
Admin -r-> EditSurvey
Admin -l-> AssignSurvey
Admin -u-> ViewStatistics

@enduml

</div>

## Схема використання для Користувача

<div style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em; text-align: center;"
>

@startuml

actor "Користувач" as User

usecase "<b>Login</b>\nВхід у систему" as Login
usecase "<b>Registration</b>\nРеєстрація у системі" as Registration

User --> Login
User --> Registration
Login .u.> RecoveryPassword
Registration .u.> RegistrationWithEmail
@enduml
</div>

## Схема використання для Експерта

<div style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em; text-align: center;"
>

@startuml

actor "Експерт" as Expert

usecase "<b>TakeSurvey</b>\nПроходити опитування" as TakeSurvey
usecase "<b>EditAnswers</b>\nРедагувати відповіді" as EditAnswers
usecase "<b>SaveAnswers</b>\nЗберегти опитування" as SaveAnswers

Expert -r-> TakeSurvey
Expert -l-> EditAnswers
TakeSurvey .u.> SaveAnswers

@enduml

</div>

## Схема використання для Адміністратора

<div style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em; text-align: center;"
>

@startuml

actor "Адміністратор" as Admin

usecase "<b>CreateSurvey</b>\n Створювати опитування" as CreateSurvey
usecase "<b>EditSurvey</b>\n Редагувати опитування" as EditSurvey
usecase "<b>AssignSurvey</b>\ Призначати опитування" as AssignSurvey
usecase "<b>ViewStatistics</b>\n Переглядати статистику" as ViewStatistics

usecase "<b>AddQuestion</b>\n Додати питання" as AddQuestion
usecase "<b>RemoveQuestion</b>\ Видалити питання" as RemoveQuestion
usecase "<b>RemoveSurvey</b>\ Видалити опитування" as RemoveSurvey
usecase "<b>UnassignSurveyFromExpert</b>\n Знімати опитування з експерту" as UnassignSurveyFromExpert
usecase "<b>FilterByName</b>\n Пошук опитування за назвою" as FilterByName

Admin -u-> CreateSurvey
Admin -d-> EditSurvey
Admin -l-> AssignSurvey
Admin -r-> ViewStatistics

CreateSurvey <. AddQuestion : Extends
EditSurvey <.d. RemoveQuestion : Extends
EditSurvey <.r. RemoveSurvey : Extends
AssignSurvey <.l. UnassignSurveyFromExpert : Extends
ViewStatistics <.r. FilterByName : Extends

@enduml

</div>

## Сценарії використання

### Зареєструвати користувача

| ID:                   | **Registration**                                                          |
|:----------------------|:--------------------------------------------------------------------------|
| **Назва**             | Зареєструвати користувача                                                 |
| **Учасники**          | Система, користувач                                                       |
| **Передумови**        | Користувач незареєстрований                                               |
| **Результат**         | Створено новий обліковий запис                                            |
| **Виключні ситуації** | EX01.01 Обліковий запис вже існує<br> EX.01.02 Користував ввів хибні дані |

@startuml

|Користувач|
start;
: Натискає на кнопку реєстрації;

|Система|
: Відкриває форму для реєстрації;

|Користувач|
: Вводить дані для реєстрації;
: Підтверджує дані "Зареєструватися"
<font color="red"><b>(можлива EX01.01, EX.01.02);

|Система|
: Заносить дані користувача в базу даних;
: Створює новий обліковий запис;

|Користувач|
: stop;
@enduml

### Авторизувати користувача

| ID:                   | **Login**                                                                              |
|:----------------------|:---------------------------------------------------------------------------------------|
| **Назва**             | Авторизувати користувача                                                               |
| **Учасники**          | Система, користувач                                                                    |
| **Передумови**        | Користувач зареєстрований, користувач не увійшов в обліковий запис                     |
| **Результат**         | Користувач увійшов в обліковий запис                                                   |
| **Виключні ситуації** | EX02.01 Облікового доступу користувача не існує<br> EX02.02 Користувач ввів хибні дані |

@startuml

|Користувач|
start;
:Користувач натискає на кнопку авторизації;
:Користувач вводить данні;
:Користувач підтверджує дані
<font color="red"><b>(можлива EX.02.01 EX02.02);

|Система|
:Система дає запит до бази даних;
:Перевіряє наявність облікового запису користувача в системі;
:Надає доступ до особистого кабінету користувача;
:Завантажує користувачу головну сторінку;

|Користувач|
:Користувач увійшов в обліковий запис;

stop;

@enduml

### Вийти з облікового запису

| ID:                   | **Logout_User**                                                 |
|:----------------------|:----------------------------------------------------------------|
| **Назва**             | Вийти з облікового запису                                       |
| **Учасники**          | Система, користувач                                             |
| **Передумови**        | Користувач зареєстрований, користувач увійшов в обліковий запис |
| **Результат**         | Користувач вийшов з облікового запису                           |
| **Виключні ситуації** | Відсутні                                                        |

@startuml

|Користувач|
start;
: Переходить на особисту сторінку;
: \tНатискає кнопку\n"Вихід з облікового запису";

|Система|
: \tБлокує користувачу доступ\nдо особистого кабінету;

|Користувач|
: Користувач бачить сторінку авторізації;
stop;

@enduml

### Проходити опитування

| ID:                   | **TakeSurvey**                                                                                                              |
|:----------------------|:----------------------------------------------------------------------------------------------------------------------------|
| **Назва**             | Проходження опитування експертом                                                                                            |
| **Учасники**          | Система, експерт                                                                                                            |
| **Передумови**        | Користувач зареєстрований як експерт, опитування доступне для проходження                                                   |
| **Результат**         | Експерт надав відповіді на всі питання опитування; Відповіді експерта збережені в системі; Результати опитування зараховані |
| **Виключні ситуації** | EX02.01: Опитування вже пройдено, EX02.02: Експерт не має права проходити опитування.                                       |
|

@startuml

|Експерт|
start;
: Авторизується в системі;
: Вибирає доступне опитування;

|Система|
: Відкриває опитування;
: Відображає питання;

|Експерт|
: Відповідає на питання;
: Відправляє відповіді "Надіслати"
<font color="red"><b>(можлива EX02.01, EX02.02);

|Система|
: Зберігає відповіді експерта;
: Зараховує результати опитування;

|Експерт|
: stop;

@enduml

### Редагувати опитування

| ID:                   | **EditAnswers**                                                                                         |
|:----------------------|:--------------------------------------------------------------------------------------------------------|
| **Назва**             | Редагування експертом своїх відповідей на опитування                                                    |
| **Учасники**          | Система, експерт                                                                                        |
| **Передумови**        | Експерт авторизований в системі, Опитування, на яке експерт надав відповіді, доступне для редагування   |
| **Результат**         | Експерт відредагував свої відповіді на опитування; Відредаговані відповіді експерта збережені в системі |
| **Виключні ситуації** | EX03.01: Опитування більше не доступне для редагування.                                                 |
|

@startuml

|Експерт|
start;
: Вибирає опитування;
: Переглядає свої відповіді;
: Вибирає відповідь для редагування;
: Вносить зміни до відповіді;
: Зберігає зміни "Зберегти" <font color="red"><b>(можлива EX03.01);

|Система|
: Зберігає відредаговані відповіді експерта;

|Експерт|
: stop;

@enduml

### Створювати опитування

| ID:                   | **CreateSurvey**                                                                        |
|:----------------------|:----------------------------------------------------------------------------------------|
| **Назва**             | Створення опитування адміністратором                                                    |
| **Учасники**          | Система, Адміністратор                                                                  |
| **Передумови**        | Адміністратор авторизований в системі                                                   |
| **Результат**         | Адміністратор створив нове опитування, Опитування доступне користувачам для проходження |
| **Виключні ситуації** | EX04.01: Опитування з такою назвою вже існує                                            |

@startuml
|Адміністратор|
: start;
: Відкриває форму створення опитування;
: Вводить назву та опис опитування;
: Додає питання;
: Вводить варіанти відповідей;
: Встановлює дату початку та закінчення опитування;
: Натискає кнопку "Створити" <font color="red"><b>(можлива EX04.01);

|Система|
: Створює опитування в базі даних;
: Відображає створене опитування;

|Адміністратор|
: Переглядає опитування;
: Редагує опитування (за бажанням);
: Закриває форму створення опитування;

|Адміністратор|
: stop;
@enduml

### Редагувати опитування

| ID:                   | **EditSurvey**                                                                                                    |
|:----------------------|:------------------------------------------------------------------------------------------------------------------|
| **Назва**             | Редагування опитування адміністратором                                                                            |
| **Учасники**          | Система, Адміністратор                                                                                            |
| **Передумови**        | Адміністратор авторизований в системі, Опитування, яке адміністратор хоче відредагувати, доступне для редагування |
| **Результат**         | Адміністратор успішно відредагував опитування, Зміни внесені до опитування в базі даних                           |
| **Виключні ситуації** | EX05.01: Опитування більше не доступне для редагування                                                            |

@startuml

|Адміністратор|
start;
: Відкриває список опитувань;
: Вибирає опитування для редагування;
: Відкриває опитування;
: Вносить зміни до назви, опису, питань, варіантів відповідей, дати початку/закінчення;
: Натискає кнопку "Зберегти" <font color="red"><b>(можлива EX05.01);

|Система|
: Зберігає відредаговані дані опитування;
: Відображає відредаговане опитування;

|Адміністратор|
: Переглядає відредаговане опитування;
: Редагує опитування далі (за бажанням);
: Закриває форму редагування;

|Адміністратор|
: stop;
@enduml

### Призначення опитування експерту

| ID:                   | **AssignSurvey**                                                                                                                                                                                            |
|:----------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Назва**             | Призначення опитування експерту                                                                                                                                                                             |
| **Учасники**          | Система, Адміністратор                                                                                                                                                                                      |
| **Передумови**        | Адміністратор авторизований в системі, <br/>Опитування, яке адміністратор хоче призначити, доступне для призначення,<br/> Експерт, якому адміністратор хоче призначити опитування, зареєстрований в системі |
| **Результат**         | Опитування успішно призначено експерту, Експерт бачить призначене опитування в списку опитувань                                                                                                             |
| **Виключні ситуації** | EX06.01: Експерт вже призначений до цього опитування                                                                                                                                                        |

@startuml

|Адміністратор|
start;
: Відкриває список опитувань;
: Вибирає опитування для призначення;
: Відкриває список експертів;
: Вибирає експерта;
: Натискає кнопку "Призначити" <font color="red"><b>(можлива EX06.01);

|Система|
: Перевіряє доступність експерта;
: Призначає опитування експерту;
: Відправляє експерту повідомлення про призначення;

|Адміністратор|
: Переглядає список призначених експертів;
: Закриває форму призначення;

|Адміністратор|
: stop;
@enduml

### Зняти опитування з експерта

| ID:                   | **UnassignSurveyFromExpert**                                                                                             |
|:----------------------|:-------------------------------------------------------------------------------------------------------------------------|
| **Назва**             | Зняти опитування з експерта                                                                                              |
| **Учасники**          | Система, Адміністратор                                                                                                   |
| **Передумови**        | Адміністратор авторизований в системі, <br/>Опитування доступне для редагування, <br/> Експерт призначений до опитування |
| **Результат**         | Опитування успішно знято з обраного експерта, Експерт не бачить опитування в списку опитувань                            |
| **Виключні ситуації** | EX07.01: Експерт не призначений до цього опитування.                                                                     |

@startuml

|Адміністратор|

start;
: Авторизується в системі;
: Відкриває список опитувань;
: Вибирає опитування;
: Переглядає список призначених експертів;
: Вибирає експерта;
: Натискає кнопку "Зняти" <font color="red"><b>(можлива EX08.01);

|Система|
: Знімає опитування з експерта;
: Видаляє зняте опитцвання зі списку опитувань експерта;

|Адміністратор|
: Переглядає оновлений список призначених експертів;
: Закриває форму редагування;

|Адміністратор|
: stop;
@enduml

### Перегляд адміністратором статистики відповідей на опитування

| ID:                   | **ViewStatistics**                                                                                                                  |
|:----------------------|:------------------------------------------------------------------------------------------------------------------------------------|
| **Назва**             | Перегляд адміністратором статистики відповідей на опитування                                                                        |
| **Учасники**          | Система, Адміністратор                                                                                                              |
| **Передумови**        | Адміністратор авторизований в системі, <br/>Опитування, для якого адміністратор хоче переглянути статистику, доступне для перегляду |
| **Результат**         | Адміністратор успішно переглянув статистику відповідей на вибране опитування                                                        |
| **Виключні ситуації** | EX08.01: Опитування більше не доступне для перегляду статистики                                                                     |

@startuml

|Адміністратор|
start;
: Авторизується в системі;
: Відкриває список опитувань;
: Вибирає опитування для перегляду статистики;

|Система|
: Відображає статистику відповідей на опитування:
: Кількість відповідей;
: Відсотки відповідей на кожне питання;

|Адміністратор|
: Закриває вікно зі статистикою;

|Адміністратор|
: stop;
@enduml

### Пошук опитування за назвою

| ID:                   | **FilterByName**                                            |
|:----------------------|:------------------------------------------------------------|
| **Назва**             | Пошук опитування за назвою                                  |
| **Учасники**          | Система, Адміністратор                                      |
| **Передумови**        | Адміністратор авторизований в системі                       |
| **Результат**         | Адміністратор успішно знайшов опитування за вказаною назвою |
| **Виключні ситуації** | EX09.01: Опитувань з такою назвою не знайдено.              |

@startuml

|Адміністратор|
start;
: Відкриває форму пошуку;
: Вводить назву опитування;
: Натискає кнопку "Пошук";

|Система|
: Шукає опитування за вказаною назвою;
: Відображає список знайдених опитувань;

|Адміністратор|
: Вибирає опитування зі списку (якщо знайдено);
: Переглядає результати пошуку;
: Закриває форму пошуку;

|Адміністратор|
: stop;
@enduml

### Додавання нового питання до опитування

| ID:                   | **AddQuestion**                                                            |
|:----------------------|:---------------------------------------------------------------------------|
| **Назва**             | Додавання нового питання до опитування                                     |
| **Учасники**          | Система, Адміністратор                                                     |
| **Передумови**        | Адміністратор авторизований в системі, Опитування доступне для редагування |
| **Результат**         | Адміністратор успішно додав нове питання до опитування              |
| **Виключні ситуації** | EX10.01: Опитування більше не доступне для редагування.                            |

@startuml

|Адміністратор| 
start;
: Відкриває список опитувань;
: Вибирає опитування для редагування;
: Відкриває форму додавання питання;
: Вводить текст питання;
: Вводить варіанти відповідей;
: Натискає кнопку "Додати" <font color="red"><b>(можлива EX10.01);

|Система| 
: Додає нове питання до опитування;
: Відображає оновлене опитування;

|Адміністратор| 
: Переглядає оновлене опитування;
: Редагує опитування далі (за бажанням);
: Закриває форму додавання питання;

|Адміністратор| 
: stop;
@enduml

### Видалення питання до опитування

| ID:                   | **RemoveQuestion**                                                         |
|:----------------------|:---------------------------------------------------------------------------|
| **Назва**             | Додавання нового питання до опитування                                     |
| **Учасники**          | Система, Адміністратор                                                     |
| **Передумови**        | Адміністратор авторизований в системі, Опитування доступне для редагування |
| **Результат**         | Адміністратор успішно видалив питання з опитування                         |
| **Виключні ситуації** | EX11.01: Опитування більше не доступне для редагування.                    |

@startuml

|Адміністратор|
start;
: Відкриває список опитувань;
: Вибирає опитування для редагування;
: Відкриває опитування;
: Вибирає питання для видалення;
: Натискає кнопку "Видалити" <font color="red"><b>(можлива EX11.01);

|Система|
: Видаляє питання з опитування;
: Відображає оновлене опитування;

|Адміністратор|
: Переглядає оновлене опитування;
: Редагує опитування далі (за бажанням);
: Закриває форму додавання питання;

|Адміністратор|
: stop;
@enduml

### Видалення опитування

| ID:                   | **RemoveSurvey**                                                           |
|:----------------------|:---------------------------------------------------------------------------|
| **Назва**             | Видалення опитування                                                       |
| **Учасники**          | Система, Адміністратор                                                     |
| **Передумови**        | Адміністратор авторизований в системі, Опитування доступне для редагування |
| **Результат**         | Адміністратор успішно видалив опитування                                   |
| **Виключні ситуації** | EX12.01: Опитування більше не доступне для редагування.                    |

@startuml

|Адміністратор|
start;
: Відкриває список опитувань;
: Вибирає опитування для видалення;
: Натискає кнопку "Видалити" <font color="red"><b>(можлива EX12.01);

|Система| 
: Перевіряє, чи можна видалити опитування;
: Видаляє опитування;

|Адміністратор|
: Переглядає оновлений список опитувань;

|Адміністратор| 
: stop;

@enduml